graph LR
    input["Multi-Facility<br/>Records"] --> splink["Splink v4<br/>Probabilistic"]
    splink --> auto["Auto-Match<br/><i>P > 0.95</i>"]
    splink --> gray["Gray Zone<br/><i>uncertain P</i>"]
    splink --> reject["Auto-Reject<br/><i>P < 0.05</i>"]
    gray --> llm["MedGemma<br/>4B"]
    llm --> fusion["Score<br/>Fusion"]
    fusion --> golden["**Golden<br/>Records**"]
    auto --> golden

    style input fill:#F5F5F5,stroke:#424242
    style splink fill:#E3F2FD,stroke:#1565C0
    style auto fill:#E8F5E9,stroke:#2E7D32,color:#2E7D32
    style gray fill:#FFF3E0,stroke:#E65100,color:#E65100
    style reject fill:#FFEBEE,stroke:#C62828,color:#C62828
    style llm fill:#FFF3E0,stroke:#E65100
    style fusion fill:#E3F2FD,stroke:#1565C0
    style golden fill:#C8E6C9,stroke:#2E7D32,stroke-width:2px
